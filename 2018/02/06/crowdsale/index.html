<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>Smark Home Site</title>
	<script src="https://use.fontawesome.com/21ae12a9ad.js"></script>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/main.css">
    <script src="/js/jquery.js"></script>
	<script src="/bootstrap/js/bootstrap.min.js"></script>
	<link href="http://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css" rel="stylesheet">  
	<script src="https://github.com/isagalaev/highlight.js/blob/master/src/highlight.js"></script>
	
</head>
<body>
	<div class="col-md-3 col-sm-3  slide navbar-fixed-top">
		<header class="sidebar-header" role="banner">
				<a href="/">
					<img src="/img/1.jpg" class="img-circle">
				</a>
				<h3 class="title"> 
					<a href="/"></a>
			</h3>
			</header>

			<div id="bio" class="text-center">
				Software Engineer
			</div>

			<div id="contact-list" class="text-center">
				<ul class="list-unstyled list-inline">

					<li>
						<a class="btn btn-default btn-sm" target="_blank" href="https://github.com/smarkm">
							<i class="fa fa-github-alt fa-lg"></i>
						</a>
					</li>

					<li>
						<a class="btn btn-default btn-sm" target="_blank" href="mailto:smark@freecoop.net">
							<i class="fa fa-envelope fa-lg"></i>
						</a>
					</li>

					<li>
						<a class="btn btn-default btn-sm" target="_blank" href="https://twitter.com/smarkmeng">
							<i class="fa fa-twitter fa-lg"></i>
						</a>
					</li>
					<li>
						<a class="btn btn-default btn-sm" target="_blank" href="https://www.gitbook.com/@smarkm">
							<i class="fa fa-book fa-lg"></i>
						</a>
					</li>

				</ul>
			</div>
	</div>
	
   
    <div class="col-md-9 pull-right">
    				<div class="dropdown s-menu pull-right" >
			  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
			    <span class="glyphicon glyphicon-menu-hamburger"></span>
			  </button>
			  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
			    <li>
			    	<a href="/">
			    	<span class="glyphicon glyphicon-home"></span> 
			    	é¦–é¡µ</a>
			    </li>
			     <li>
			    	<a href="/categories/About">
			    	<span class="glyphicon glyphicon-folder-open"></span> 
			    	åˆ†ç±»</a>
			    </li>
			     <li>
			    	<a href="/tags/About" >
			    	<span class="glyphicon glyphicon-tags"></span> 
			    	æ ‡ç­¾</a>
			    </li>
			  </ul>
			</div>

		<div class="" style="margin-left:20px;margin-right:80px">
<h2  ><a class="post-title"  href="/2018/02/06/crowdsale/"></a></h2>
<hr>
        2018/2/6
     <h3 id="ä¸ºä½ çš„ideaä¼—ç­¹"><a href="#ä¸ºä½ çš„ideaä¼—ç­¹" class="headerlink" title="ä¸ºä½ çš„ideaä¼—ç­¹"></a>ä¸ºä½ çš„ideaä¼—ç­¹</h3><p>æœ‰æ—¶å€™ä¸€ä¸ªå¥½çš„æƒ³æ³•éœ€è¦å¤§é‡çš„èµ„é‡‘å’Œé›†ä½“çš„åŠªåŠ›ã€‚ä½ å¯èƒ½ä¼šéœ€è¦æèµ ï¼Œ ä½†æ˜¯æèµ è€…æ›´å€¾å‘äºç»™äºˆé¡¹ç›®ä»–ä»¬æ›´ç¡®å®šçš„æ˜¯è·å¾—åŠ¨åŠ›å’Œé€‚å½“çš„èµ„é‡‘ã€‚è¿™æ˜¯ä¸€ä¸ªä¼—ç­¹å¾ˆç†æƒ³çš„ä¾‹å­: ä½ è®¾ç½®ä¸€ä¸ªç›®æ ‡å’Œhæˆªæ­¢æ—¥æœŸã€‚å¦‚æœä½ æ²¡æœ‰å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæèµ ä¼šè¿”è¿˜ï¼Œä»¥æ­¤æ¥å‡å°‘æèµ è€…çš„é£é™©ã€‚ å› ä¸ºä»£ç æ˜¯å…¬å¼€å¯å®¡è®¡çš„ï¼Œæ²¡æœ‰å¿…è¦é›†ä¸­æ§åˆ¶ï¼Œ å€¼å¾—ä¿¡èµ–çš„å¹³å°å› æ­¤ï¼Œæ¯ä¸ªäººéƒ½è¦æ”¯ä»˜çš„å”¯ä¸€è´¹ç”¨å°±æ˜¯gasã€‚</p>
<h4 id="Tokens-and-DAOs"><a href="#Tokens-and-DAOs" class="headerlink" title="Tokens and DAOs"></a>Tokens and DAOs</h4><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡è§£å†³ä¸¤ä¸ªé‡è¦é—®é¢˜æ¥è¿›è¡Œæ›´å¥½çš„ä¼—ç­¹: å¦‚ä½•ç®¡ç†å’Œä¿æŒå›æŠ¥, ä»¥åŠè¿™äº›é’±æ˜¯å¦‚ä½•åœ¨ç­¹é›†åˆ°èµ„é‡‘ä¹‹åè¢«èŠ±æ‰çš„ã€‚<br>ä¼—ç­¹çš„å›æŠ¥é€šå¸¸ç”±ä¸€ä¸ªæ— æ³•æ”¹å˜çš„æ•°æ®åº“æ¥å¤„ç†ï¼Œå®ƒå¯ä»¥è·Ÿè¸ªæ‰€æœ‰çš„æèµ è€…:  ä»»ä½•é”™è¿‡äº†ç«é€‰æ´»åŠ¨æœ€åæœŸé™çš„äººéƒ½æ— æ³•è¿›å…¥ï¼Œä»»ä½•æ”¹å˜ä¸»æ„çš„æèµ è€…éƒ½æ— æ³•ç¦»å¼€ã€‚ ç›¸åï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯å»ä¸­å¿ƒåŒ–çš„æ–¹æ³•ç„¶ååˆ›å»ºä¸€ä¸ª <a href="./token">token</a> æ¥è·Ÿè¸ªå›æŠ¥, ä»»ä½•æœ‰è´¡çŒ®çš„äººéƒ½ä¼šå¾—åˆ°ä¸€ä¸ªtokenï¼Œä»–ä»¬å¯ä»¥äº¤æ˜“ã€å‡ºå”®æˆ–ä¿å­˜ã€‚å½“ç»™äºˆç‰©è´¨å¥–åŠ±çš„æ—¶å€™ç”Ÿäº§è€…åªéœ€è¦äº¤æ¢çœŸäº§å“çš„ä»£å¸ã€‚ æèµ è€…å¯ä»¥ä¿ç•™ä»–ä»¬çš„æ ‡è®°ï¼Œå³ä½¿è¿™ä¸ªé¡¹ç›®æ²¡æœ‰è¾¾åˆ°ä»–ä»¬çš„ç›®çš„ï¼Œä½œä¸ºçºªå¿µå“ã€‚</p>
<p>æ­¤å¤–ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé‚£äº›èµ„åŠ©çš„äººåœ¨èµ„é‡‘ç­¹é›†å’Œç®¡ç†ä¸å–„çš„æƒ…å†µä¸‹æ— æ³•å¯¹èµ„é‡‘çš„ä½¿ç”¨æƒ…å†µæœ‰ä»»ä½•å‘è¨€æƒï¼Œå¾€å¾€å¯¼è‡´é¡¹ç›®æ ¹æœ¬æ— æ³•æä¾›ä»»ä½•ä¸œè¥¿ã€‚ åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªæ°‘ä¸»ç»„ç»‡<a href="./dao">Democratic Organization</a>ï¼Œå®ƒå°†å¿…é¡»æ‰¹å‡†ä»ç³»ç»Ÿä¸­è·å¾—çš„ä»»ä½•èµ„é‡‘ã€‚ è¿™é€šå¸¸è¢«ç§°ä¸ºä¼—ç­¹æˆ–ç¾¤ä½“æƒç›Šè¿™æ˜¯éå¸¸åŸºæœ¬çš„ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä»¤ç‰Œå¯ä»¥æ˜¯å¥–åŠ±æœ¬èº«,This is often called a <strong>crowdsale</strong> or <strong>crowd equity</strong> and is so fundamental that in some cases the token can be the reward itself, ç‰¹åˆ«æ˜¯åœ¨ä¸€äº›é¡¹ç›®ä¸­ï¼Œä¸€ç¾¤äººèšåœ¨ä¸€èµ·ï¼Œå…±åŒå»ºè®¾å…¬å…±å…¬ç›Šäº‹ä¸šã€‚</p>
<p><img src="https://ethereum.org/images/tutorial/token-crowdsale.png" alt="Get the necessary contracts"></p>
<ul>
<li><p>æœæ‚¨åªæ˜¯æµ‹è¯•ï¼Œå°†é’±åŒ…åˆ‡æ¢åˆ°testnetå¹¶å¼€å§‹æŒ–æ˜ã€‚</p>
</li>
<li><p>é¦–å…ˆ, åˆ›å»ºä¸€ä¸ª <a href="./token#the-code">fixed supply token</a>.å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª <strong>100</strong>ï¼Œ ä½¿ç”¨åå­— <strong>gadgets</strong>, the box emoji (ğŸ“¦) as a symbol and <strong>0</strong> decimal places. éƒ¨ç½²å¹¶ä¿æŒåœ°å€ã€‚</p>
</li>
<li><p>ç°åœ¨åˆ›å»ºä¸€ä¸ª <a href="./dao#the-shareholder-association">shareholder association</a>. In this example we are going to use the address of the token we just created as the <strong>Shares Address</strong>, a minimum quorum of <strong>10</strong>, and <strong>1500</strong> minutes (25 hours) as the voting time. Deploy this contract and save the address.</p>
</li>
</ul>
<h4 id="The-code"><a href="#The-code" class="headerlink" title="The code"></a>The code</h4><p>ç°åœ¨å¤åˆ¶è¿™æ®µä»£ç ï¼Œç„¶ååˆ›å»ºä¼—ç­¹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">!!!include(solidity/crowdsale.sol)!!!</div></pre></td></tr></table></figure>
<h4 id="Code-highlights"><a href="#Code-highlights" class="headerlink" title="Code highlights"></a>Code highlights</h4><p>æ³¨æ„ï¼Œ<strong>Crowdsale</strong>åŠŸèƒ½(the one that is called upon contract creation)ä¸­æ˜¯å¦‚ä½•è®¾ç½® <strong>deadline</strong> and <strong>fundingGoal</strong> çš„ã€‚</p>
<pre><code>fundingGoal = fundingGoalInEthers * 1 ether;
deadline = now + durationInMinutes * 1 minutes;
price = etherCostOfEachToken * 1 ether;
</code></pre><p>æœ‰ä¸€äº› <a href="https://solidity.readthedocs.io/en/latest/units-and-global-variables.html" target="_blank" rel="external">special keywords</a> åœ¨solidityä¸­å¸®åŠ©ä½ ç¼–ç ï¼Œin solidity that help you code, å…è®¸ä½ è¯„ä¼°ä¸€äº›lç±»ä¼¼ <strong>1 ether == 1000 finney</strong> æˆ–è€… <strong>2 days == 48 hours</strong>. åœ¨ç³»ç»Ÿå†…éƒ¨ï¼Œæ‰€æœ‰çš„etherå«é‡éƒ½è¢«å®šä¹‰ä¸º <strong>wei</strong>,æœ€å°å¯åˆ†çš„å•ä½ï¼Œæœ€å°å¯åˆ†çš„å•ä½ã€‚ The code above converts the funding goal into wei by multiplying it by 1,000,000,000,000,000,000 (which is what the special keyword <strong>ether</strong> converts into). The next line creates a timestamp that is exactly X minutes away from today by also using a combination of the special keywords <strong>now</strong> and <strong>minutes</strong>. For more global keywords, check the <a href="https://solidity.readthedocs.io/en/latest/units-and-global-variables.html" target="_blank" rel="external">solidity documentation on Globally available variables</a>.</p>
<p>The following line will instantiate a contract at a given address:</p>
<pre><code>tokenReward = token(addressOfTokenUsedAsReward);
</code></pre><p>Notice that the contract understands what a <em>token</em> is because we defined it earlier by starting the code with:</p>
<pre><code>interface token { function transfer(address receiver, uint amount){  } }
</code></pre><p>This doesnâ€™t fully describe how the contract works or all the functions it has, but describes only the ones this contract needs: a token is a contract with a <em>transfer</em> function, and we have one at this address.</p>
<h4 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h4><p>ç‚¹å‡» <strong>contracts</strong> ç„¶å <strong>deploy contract</strong>:</p>
<p><img src="https://ethereum.org/images/tutorial/crowdsale-deploy.png" alt="Crowdsale deployment"></p>
<ul>
<li><p>è®¾ç½®ä½ åˆšåˆšåˆ›å»ºçš„ç»„ç»‡çš„åœ°å€ <strong>if successful, send to</strong>.</p>
</li>
<li><p>è®¾ç½® <strong>250</strong> ethers ä¸ºèèµ„ç›®æ ‡</p>
</li>
<li><p>å¦‚æœä½ åªæ˜¯ä¸ºäº†è¿›è¡Œæµ‹è¯•æˆ–æ¼”ç¤º,å°†ä¼—ç­¹çš„æŒç»­æ—¶é—´è®¾ç½®ä¸º3-10åˆ†é’Ÿï¼Œ ä½†æ˜¯å¦‚æœä½ çœŸçš„åœ¨ç­¹é›†èµ„é‡‘ä½ å¯ä»¥æŠ•å…¥æ›´å¤§çš„èµ„é‡‘, åˆ—å¦‚ <strong>45,000</strong> (31 days).</p>
</li>
<li><p>The <strong>ether cost of each token</strong> åº”è¯¥æ ¹æ®ä½ å‡†å¤‡å‡ºå”®å¤šå°‘ä»£å¸æ¥è®¡ç®—. (åœ¨å‰é¢çš„æ­¥éª¤ä¸­ï¼Œæ‚¨æ·»åŠ çš„ä»¤ç‰Œçš„â€œåˆå§‹ä¾›åº”â€æ•°é‡çš„æœ€å¤§å€¼).åœ¨æœ¬ä¾‹ä¸­ï¼Œæ”¾å…¥5ä¸ª ether.</p>
</li>
<li><p>æ‚¨åˆ›å»ºçš„ä»¤ç‰Œçš„åœ°å€åº”è¯¥æ·»åŠ åˆ° <strong>token reward address</strong></p>
</li>
</ul>
<p>è®¾ç½®ä¸€ä¸ªæ±½æ²¹ä»·æ ¼ï¼Œç‚¹å‡»éƒ¨ç½²ï¼Œç­‰å¾…ä½ çš„ä¼—ç­¹. ä¸€æ—¦åˆ›å»ºäº†ä¼—ç­¹é¡µé¢ï¼Œä½ ç°åœ¨å°±éœ€è¦å­˜è¶³å¤Ÿçš„é’±æ¥æ”¯ä»˜å›æŠ¥ã€‚ç‚¹å‡»ä¼—ç­¹çš„åœ°å€ï¼Œç„¶åè¿›è¡Œå­˜æ¬¾å’Œå‘é€ <strong>50 gadgets</strong> to the crowdsale.</p>
<p><strong>I have 100 gadgets. Why not sell them all?</strong></p>
<p>è¿™æ˜¯éå¸¸é‡è¦çš„ä¸€ç‚¹ã€‚æˆ‘ä»¬æ­£åœ¨æ„å»ºçš„ä¼—ç­¹å°†å®Œå…¨ç”±ä»¤ç‰ŒæŒæœ‰äººæ§åˆ¶ã€‚è¿™å°±é€ æˆäº†ä¸€ä¸ªå±é™©ï¼Œå³æ§åˆ¶æ‰€æœ‰æ ‡è®°çš„50%+1çš„äººå°†èƒ½å¤Ÿå°†æ‰€æœ‰çš„èµ„é‡‘å‘é€ç»™è‡ªå·±ã€‚ä½ å¯ä»¥å°è¯•åœ¨å…³è”åˆåŒä¸Šåˆ›å»ºç‰¹æ®Šçš„ä»£ç æ¥é˜²æ­¢è¿™äº›æ¶æ„çš„æ”¶è´­, æˆ–è€…ä½ å¯ä»¥æŠŠæ‰€æœ‰çš„èµ„é‡‘éƒ½å‘é€åˆ°ä¸€ä¸ªç®€å•çš„åœ°å€.ç®€å•åœ°è¯´ï¼Œæˆ‘ä»¬åªæ˜¯ç®€å•åœ°å–æ‰äº†ä¸€åŠçš„å°å·¥å…·: å¦‚æœæ‚¨æƒ³è¿›ä¸€æ­¥åˆ†æ•£å®ƒï¼Œåˆ™å°†å‰©ä¸‹çš„ä¸€åŠåˆ†é…ç»™å—ä¿¡ä»»çš„ç»„ç»‡ã€‚</p>
<h4 id="ç­¹é›†èµ„é‡‘"><a href="#ç­¹é›†èµ„é‡‘" class="headerlink" title="ç­¹é›†èµ„é‡‘"></a>ç­¹é›†èµ„é‡‘</h4><p>ä¸€æ—¦ä¼—ç­¹å®Œæˆäº†æ‰€æœ‰å¿…è¦çš„token,å¯¹å®ƒçš„è´¡çŒ®å¾ˆç®€å•ï¼Œä½ å¯ä»¥ä»ä»»ä½•ä»¥å¤ªé’±åŒ…é‡Œå®Œæˆ:åªè¦æŠŠé’±å¯„ç»™å®ƒå°±è¡Œäº†ã€‚æ‚¨å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ç›¸å…³çš„ä»£ç :</p>
<pre><code>function () {
    require(!crowdsaleClosed);
    uint amount = msg.value;
    // ...
</code></pre><p>The <a href="https://solidity.readthedocs.io/en/latest/contracts.html#fallback-function" target="_blank" rel="external">unnamed function</a> is the default function executed whenever a contract receives ether. è¿™ä¸ªåŠŸèƒ½ä¼šè‡ªåŠ¨æ£€æŸ¥ä¼—ç­¹æ´»åŠ¨æ˜¯å¦æ´»è·ƒï¼Œ è®¡ç®—è°ƒç”¨è€…è´­ä¹°äº†å¤šå°‘ä¸ªä»¤ç‰Œï¼Œå¹¶å‘é€ç›¸åº”çš„ä»¤ç‰Œã€‚ å¦‚æœä¼—åŒ…å·²ç»ç»“æŸæˆ–è€…åˆåŒæ²¡æœ‰ç­¾è®¢åˆåŒï¼ŒåˆåŒå°±ä¼šç»ˆæ­¢ <strong>throw</strong> meaning the execution will be stopped and å‘é€çš„ä»¥å¤ªå°†è¢«è¿”å› (ä½†æ˜¯æ‰€æœ‰çš„æ°”ä½“éƒ½ä¼šè¢«èŠ±æ‰).</p>
<p><img src="https://ethereum.org/images/tutorial/crowdsale-error.png" alt="Crowdsale error"></p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯åˆåŒå¯ä»¥é˜²æ­¢é™·å…¥è¿™æ ·ä¸€ç§æƒ…å†µå³æœ‰äººä¼šç¦»å¼€ä»–ä»¬çš„ä»¥å¤ªæˆ–ä»£å¸. åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿä¼š<a href="https://solidity.readthedocs.io/en/latest/units-and-global-variables.html#contract-related" target="_blank" rel="external"><strong>self destruct</strong></a> ä¼—ç­¹ç»“æŸåçš„åˆåŒ: è¿™æ„å‘³ç€åœ¨é‚£ä¸€åˆ»ä¹‹åçš„ä»»ä½•äº¤æ˜“éƒ½å°†å¤±å»ä»–ä»¬çš„èµ„é‡‘. é€šè¿‡åˆ›å»ºä¸€ä¸ªå›é€€åŠŸèƒ½,æŠŠé”€å”®ç»“æŸå,æˆ‘ä»¬é˜²æ­¢ä»»ä½•äººå¤±å»é’±ã€‚</p>
<p>The contract has a safeWithdrawl() function,æ²¡æœ‰ä»»ä½•å‚æ•°,å¯ä»¥æ‰§è¡Œç”±å—ç›Šäººçš„è®¿é—®æˆ–èµ„åŠ©è€…å›åˆ°ä»–ä»¬çš„åŸºé‡‘å‹Ÿæå¤±è´¥çš„æƒ…å†µã€‚</p>
<p><img src="https://ethereum.org/images/tutorial/crowdsale-execute.png" alt="Crowdsale execution"></p>
<h3 id="Extending-the-crowdsale"><a href="#Extending-the-crowdsale" class="headerlink" title="Extending the crowdsale"></a>Extending the crowdsale</h3><h4 id="å¦‚æœä¼—ç­¹è¶…è¿‡äº†ç›®æ ‡ï¼Œé‚£è¯¥æ€ä¹ˆåŠ"><a href="#å¦‚æœä¼—ç­¹è¶…è¿‡äº†ç›®æ ‡ï¼Œé‚£è¯¥æ€ä¹ˆåŠ" class="headerlink" title="å¦‚æœä¼—ç­¹è¶…è¿‡äº†ç›®æ ‡ï¼Œé‚£è¯¥æ€ä¹ˆåŠ?"></a>å¦‚æœä¼—ç­¹è¶…è¿‡äº†ç›®æ ‡ï¼Œé‚£è¯¥æ€ä¹ˆåŠ?</h4><p>åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œåªæœ‰ä¸¤ä»¶äº‹å¯ä»¥å‘ç”Ÿ:ä¼—ç­¹è¾¾åˆ°ç›®æ ‡ï¼Œæˆ–è€…æ²¡æœ‰å®ç°ã€‚ ç”±äºä»¤ç‰Œæ•°é‡æœ‰é™ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦è¾¾åˆ°ç›®æ ‡ï¼Œå°±æ²¡æœ‰å…¶ä»–äººèƒ½å¤Ÿåšå‡ºè´¡çŒ®ã€‚ ä¸è¿‡ï¼Œä¼—ç­¹çš„å†å²ä¸Šå……æ–¥ç€è¶…å‡ºé¢„æœŸçš„é¡¹ç›®ï¼Œæ¯”é¢„æœŸçš„æ—¶é—´è¦çŸ­å¾—å¤šï¼Œæˆ–è€…æ¯”é¢„æœŸçš„è¦å¤šå‡ºå¾ˆå¤šå€ã€‚</p>
<h4 id="Unlimited-crowdsale"><a href="#Unlimited-crowdsale" class="headerlink" title="Unlimited crowdsale"></a>Unlimited crowdsale</h4><p>æ‰€ä»¥æˆ‘ä»¬è¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„é¡¹ç›®è€Œä¸æ˜¯å‘é€ä¸€ç»„æœ‰é™çš„ä»¤ç‰Œ<br>, å®é™…ä¸Šï¼Œæ¯å½“æœ‰äººç»™ä»–ä»¬å‘é€ä»¥å¤ªçš„æ—¶å€™ï¼Œè¿™ä¸ªé¡¹ç›®å°±ä¼šå‡­ç©ºåˆ›é€ å‡ºä¸€ä¸ªæ–°çš„ä»¤ç‰Œã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª <a href="./token#central-mint">Mintable token</a>.</p>
<p>ç„¶åä¿®æ”¹ä¼—åŒ…ä»¥é‡å‘½åæ‰€æœ‰æåˆ°çš„ <strong>transfer</strong> to <strong>mintToken</strong>:</p>
<pre><code>contract token { function mintToken(address receiver, uint amount){  } }
// ...
    function () {
        // ...
        tokenReward.mintToken(msg.sender, amount / price);
        // ...
    }
</code></pre><p>ä¸€æ—¦ä½ å‘å¸ƒäº†ä¼—åŒ…é”€å”®åˆåŒï¼Œä½ å°±å¯ä»¥è·å¾—å®ƒçš„åœ°å€å¹¶è¿›å…¥ä½ çš„å…¬å¸ã€‚ <strong>Token Contract</strong> to execute a <strong>Change Ownership</strong> function. This will allow your crowdsale to call the <strong>Mint Token</strong> function as much as it wants.</p>
<p><strong>Warning:</strong>  This opens you to the danger of hostile takeover. At any point during the crowdsale anyone who donates more than the amount already raised will be able to control the whole pie and steal it. There are many strategies to prevent that, but implementing will be left as an exercise to the reader:</p>
<ul>
<li>Modify the crowdsale such that when a token is bought, also send the same quantity of tokens to the founderâ€™s account so that they always control 50% of the project</li>
<li>Modify the Organization to create a veto power to some trusted third party that could stop any hostile proposal</li>
<li>Modify the token to allow a central trusted party to freeze token accounts, so as to require a verification that there isnâ€™t any single entity controlling a majority of them</li>
</ul>

     <hr>
     

<div class="tags">
        <a href="tags">
            <span class="glyphicon glyphicon-tags">&nbsp;</span> 
            
        </a>
        &nbsp;
        <a href="categories">
            <span class="glyphicon glyphicon-folder-open">&nbsp;</span> 
            
        </a>
</div>
 </div> 
		<div class="row"></div>
        <div class="container-fluid" style="text-algin:center;">
	        <footer id="footer">
  
  <div class="outer bottom">
    <div id="footer-info" class="inner">
      &copy; 2018 Smark
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
      <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1261121789'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/stat.php%3Fid%3D1261121789%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
    </div>
  </div>
</footer>
        </div>
	</div>
</body>
</html>